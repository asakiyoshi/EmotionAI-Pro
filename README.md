# EmotionAI Pro - 融合版情感智能插件 v3.3.0

&gt; 全部由 AI 编写，融合 [EmotionAI](https://github.com/tengtian3/astrbot-plugin-emotionai) 与 [FavourPro](https://github.com/Catfish872/astrbot_plugin_favourpro) 精华，打造**真实、渐进、可养成**的 AI 情感交互系统。

---

## ✨ 核心亮点

| 特性类别 | 亮点说明 |
|----------|----------|
| 🧠 **双重情感系统** | 8维情感维度 + 好感/亲密度双核驱动，支持复合评分与动态权重 |
| 🛡️ **真实心理模拟** | AI 自主生成态度与关系描述，避免“数值跳变”，情感变化自然渐进 |
| 🧬 **关系阶段系统** | 四阶段演进（初识→深化→承诺→共生），含过渡保护、增益机制与阶段建议 |
| ⚙️ **智能更新机制** | 支持强制文本更新、情感分析专家模块（辅助LLM）、缓存优化与异步存储 |
| 🎮 **高交互性** | 提供排行榜、阶段分析、情感档案、隐私控制等丰富用户与管理员工具 |
| 🔒 **隐私与性能并重** | 支持用户级状态开关、全局隐私级别、TTL缓存、自动保存、数据迁移与备份 |

---

## 🎯 使用指南

### 用户命令
| 命令 | 说明 |
|------|------|
| `/好感度` | 查看当前情感状态（群聊中显示用户标识） |
| `/状态显示` | 切换是否在对话后显示状态信息 |
| `/好感排行 [数量]` | 查看TOP用户情感排行榜（最多20） |
| `/负好感排行 [数量]` | 查看BOTTOM用户情感排行榜 |
| `/关系阶段` | 查看当前关系阶段、动态权重、进阶建议 |
| `/缓存统计` | 查看缓存命中率与性能统计 |

### 管理员命令
| 命令 | 说明 |
|------|------|
| `/设置好感 &lt;用户ID&gt; &lt;数值&gt;` | 设置用户好感度（-100~100） |
| `/设置亲密 &lt;用户ID&gt; &lt;数值&gt;` | 设置用户亲密度（0~100） |
| `/设置态度 &lt;用户ID&gt; &lt;态度&gt;` | 设置用户态度描述文本 |
| `/设置关系 &lt;用户ID&gt; &lt;关系&gt;` | 设置用户关系描述文本 |
| `/重置好感 &lt;用户ID&gt;` | 重置用户情感状态为默认值 |
| `/查看好感 &lt;用户ID&gt;` | 查看用户完整情感档案（含维度详情） |
| `/隐私级别 &lt;0-2&gt;` | 设置全局隐私级别（0=保密，1=基础，2=详细） |
| `/重置插件` | 清空所有用户数据（慎用） |
| `/备份数据` | 创建当前数据快照备份 |

---

## 🔧 配置说明

### 核心配置项
| 配置键 | 说明 | 默认值 |
|--------|------|--------|
| `enable_attitude_system` | 启用 FavourPro 态度关系系统 | `true` |
| `enable_ai_text_generation` | 启用 AI 自主文本描述生成 | `true` |
| `enable_secondary_llm` | 启用辅助 LLM 进行情感分析 | `true` |
| `global_privacy_level` | 全局隐私级别（0~2） | `1` |
| `force_text_update` | 每次对话强制更新文本描述 | `true` |

### 动态权重机制（关系阶段系统）
| 阶段 | 好感权重 | 亲密权重 | 说明 |
|------|----------|----------|------|
| 初识期 | 70% | 30% | 建立吸引，第一印象为主 |
| 深化期 | 50% | 50% | 互动平衡，共同成长 |
| 承诺期 | 30% | 70% | 亲密主导，根基稳固 |
| 共生期 | 50% | 50% | 完全融合，终极形态 |

- **过渡保护**：阶段切换时提供缓冲区间与亲密度增益，防止“数值跳变”
- **阶段建议**：根据当前阶段提供个性化互动建议，助力关系自然升温

---

## 💡 设计理念

&gt; 不是简单的“好感度加减”，而是**真实、渐进、可养成**的 AI 情感世界。

### 我们保留了
- ✅ FavourPro 的 AI 自主文本评估与真实心理模拟  
- ✅ EmotionAI 的高性能架构与 8 维情感模型  
- ✅ 完备的管理工具与异步缓存机制  

### 我们新增了
- ✅ **复合权重评估**：好感+亲密双核驱动，动态调整权重  
- ✅ **关系阶段系统**：四阶段演进 + 过渡保护 + 阶段建议  
- ✅ **强制文本更新**：每次对话都可更新态度/关系描述，避免情感停滞  
- ✅ **情感分析专家**：辅助 LLM 深度分析对话内容，生成自然文本  
- ✅ **全局隐私控制**：统一状态显示管理，保护用户隐私  
- ✅ **负好感支持**：负好感阶段专属权重与描述策略  
- ✅ **缓存与备份**：TTL 缓存、自动保存、数据备份与迁移  

---

## 📌 结语

**EmotionAI Pro** 不只是一个“好感度插件”，而是一个  
&gt; ✅ **真实可养成的 AI 内心世界**  
&gt; ✅ **渐进式关系演进系统**  
&gt; ✅ **高可用情感交互框架**  

无论是群聊互动、私聊陪伴，还是角色扮演、剧情养成，都能让你的 AI 拥有**细腻、自然、可持续**的情感表达与关系变化。

**立即体验，让 AI 拥有“人心”！**